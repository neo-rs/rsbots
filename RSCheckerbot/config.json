{
  "guild_id": 876528050081251379,
  
  "invite_tracking": {
    "http_server_port": 8080,
    "invite_channel_id": 876560103992594482,
    "fallback_invite": "https://discord.gg/9XcJpEpsBh",
    "whop_logs_channel_id": 1076440941814091787,
    "whop_webhook_channel_id": 1453146723324133477,
    "discord_webhook_url": "",
    "ghl_api_key": "",
    "ghl_location_id": "GmTfoYNHLeHumMfDIset",
    "ghl_cf_discord_username": "",
    "ghl_cf_discord_id": "jY7EMOAS5Kf7CKqMzurw",
    "ghl_cf_lead_id": "",
    "ghl_cf_utm": "",
    "ghl_tag_created": "Discord Invited",
    "ghl_tag_joined": "Discord Joined",
    "ghl_tag_unknown": "Discord Joined (Unknown Invite)"
  },
  
  "dm_sequence": {
    "role_to_assign": 1222877651438407731,
    "role_trigger": 1222877651438407731,
    "welcome_role_id": 1158658514458263592,
    "role_cancel_a": 876569612085518376,
    "role_cancel_b": 1158658514458263592,
    "former_member_role": 1021886425530109994,
    "former_member_delay_seconds": 60,
    "lifetime_role_ids": [
      1221889762575781908
    ],
    "roles_to_check": [
      876598078092754985,
      883907048255942736,
      876588092927115284,
      1337919015992954881,
      1299919622685986817,
      1221889762575781908,
      1222877651438407731,
      876569612085518376,
      1158658514458263592,
      1224748748920328384
    ],
    "send_spacing_seconds": 30.0,
    "day_gap_hours": 24,
    "day7b_delay_min": 30,
    "test_interval_seconds": 10.0,
    "log_first_channel_id": 1144408172757536768,
    "_comment_log_first": "join-logs - Only Day 1 DM events (first contact tracking)",
    "log_other_channel_id": 1358977007030898719,
    "_comment_log_other": "bot-logs - Everything else (days 2-7b, errors, role events, system events)",
    "member_status_logs_channel_id": 1452835008170426368
  },
  "log_controls": {
    "boot_post_min_hours": 6,
    "role_update_batch_seconds": 2,
    "cid_ttl_minutes": 10,
    "verbose_role_lists": false,
    "progress_bar_width": 26,
    "_comment_output": "Optional: route ALL bot output logs to a different guild (e.g. Neo Test Server).",
    "output_guild_id": 0,
    "output_log_other_channel_name": "bot-logs",
    "output_member_status_channel_name": "member-status-logs",
    "output_whop_channel_name": "whop-logs"
  },

  "member_history": {
    "max_events_per_user": 50
  },

  "reporting": {
    "_comment": "Reporting + reminders (DM Neo). Runtime data is stored server-side and not synced.",
    "enabled": true,
    "dm_user_id": 971528709876113478,
    "timezone": "America/New_York",
    "report_time_local": "09:00",
    "weekly_day_local": "mon",
    "retention_weeks": 26,
    "reminder_days_before_cancel": [7, 3, 1],
    "_comment_cancel_output": "Optional: also mirror cancellation reminders into Neo Test Server (no pings).",
    "cancel_reminders_output_guild_id": 1451275225512546497,
    "cancel_reminders_output_channel_name": "set-to-cancel",
    "_comment_canceling_snapshot": "Optional: on startup, query Whop API and post current canceling memberships snapshot into the output channel.",
    "startup_canceling_snapshot_enabled": true,
    "startup_canceling_snapshot_max_pages": 20,
    "startup_canceling_snapshot_per_page": 100,
    "startup_canceling_snapshot_max_rows": 50,
    "startup_canceling_snapshot_min_total_spent_usd": 0.0,
    "_comment_canceling_snapshot_debug": "Optional: verbose per-member startup snapshot logs (PII) for troubleshooting.",
    "startup_canceling_snapshot_log_each_member": true,
    "_comment_canceling_snapshot_output": "Optional: post one embed per canceling member (instead of bundling).",
    "startup_canceling_snapshot_one_message_per_member": true,
    "_comment_canceling_snapshot_clear": "Optional: clear recent bot messages in the canceling snapshot channel before posting a new snapshot.",
    "startup_canceling_snapshot_clear_channel": true,
    "startup_canceling_snapshot_clear_limit": 300,
    "_comment_canceling_snapshot_mirror": "Optional: also mirror the canceling snapshot into additional channels (e.g. case channel in main guild).",
    "startup_canceling_snapshot_mirror_channel_ids": [1459042770571493459],
    "startup_canceling_snapshot_mirror_clear_channel": true,
    "startup_canceling_snapshot_mirror_clear_limit": 300,
    "_comment_canceling_snapshot_totals": "Optional: when total spend is missing, compute from payments API (slower; may rate limit).",
    "startup_canceling_snapshot_fill_total_spend_via_payments": false,
    "startup_canceling_snapshot_payments_sleep_ms": 120,
    "_comment_canceling_snapshot_csv": "Optional: attach a CSV export to the header message in Neo.",
    "startup_canceling_snapshot_attach_csv": true,
    "_comment_canceling_snapshot_filters": "Optional: drop suspicious rows (e.g. very long remaining days, or resolution/dispute payments).",
    "startup_canceling_snapshot_skip_if_remaining_days_gt": 60,
    "startup_canceling_snapshot_skip_payment_status_keywords": ["resolution", "dispute", "chargeback", "under review"],
    "startup_canceling_snapshot_payment_check_limit": 50,
    "_comment_canceling_snapshot_products": "Optional: exclude product titles containing these keywords (case-insensitive).",
    "startup_canceling_snapshot_exclude_product_title_keywords": ["lifetime"],
    "scan_log_channel_id": 0,
    "scan_log_webhook_url": "",
    "scan_log_each_member": false,
    "scan_log_include_raw_dates": false,
    "scan_log_max_members": 0,
    "scan_log_progress_every": 50
  },

  "whop_enrichment": {
    "_comment": "Controls post-then-edit behavior for staff embeds when Whop link is not yet available.",
    "link_timeout_seconds": 90,
    "link_retry_seconds": [2, 5, 10, 20, 30, 60],
    "payment_resumed_recent_hours": 6,
    "_comment_native_backfill": "On startup, scan recent native Whop log cards to populate member_history summaries (no staff spam).",
    "native_backfill_limit": 0,
    "native_backfill_max_days": 30,
    "_comment_startup_smoke": "On startup, parse last N native cards from whop-membership-logs and post a small debug summary (Neo test).",
    "startup_native_smoketest_enabled": true,
    "startup_native_smoketest_count": 25,
    "startup_native_smoketest_source_channel_id": 1453146723324133477,
    "startup_native_smoketest_output_guild_id": 1451275225512546497,
    "startup_native_smoketest_output_channel_id": 1466609169124560946,
    "startup_native_smoketest_output_channel_name": "whop-smoketest",
    "_comment_startup_smoke_samples": "Optional: at startup, also mirror a sample of existing staff cards so you can see 'member joined/left/payment' formats.",
    "startup_smoketest_mirror_staff_samples_enabled": true,
    "startup_smoketest_mirror_staff_samples_history_limit": 200,
    "startup_smoketest_mirror_staff_samples_max_unique_titles": 25
  },
  
  "utm_links": {
    "day_1": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_1",
    "day_2": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_2",
    "day_3": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_3",
    "day_4": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_4",
    "day_5": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_5",
    "day_6": "https://dash.resellingsecrets.com/checkout/plan_42Pbxy0i6Y8jX?d2c=true&utm_source=discord&utm_campaign=dm_day_6",
    "day_7a": "https://dash.resellingsecrets.com/checkout/plan_rEOS8bM058BiA?d2c=true&utm_source=discord&utm_campaign=dm_day_7a",
    "day_7b": "https://dash.resellingsecrets.com/checkout/plan_rEOS8bM058BiA?d2c=true&utm_source=discord&utm_campaign=dm_day_7b"
  },
  "whop_webhook": {
    "expected_roles": {
      "active": ["Reselling Secrets"],
      "trialing": ["Trial Access"],
      "past_due": [],
      "canceled": [],
      "completed": []
    }
  },
  "future_member_audit": {
    "_comment": "Discord-only role audit helper. Excludes members with these role IDs from candidate selection.",
    "exclude_role_ids": [1406731518969385220]
  },
  "paths": {
    "whop_history": "../RSAdminBot/whop_data/whop_history.json"
  },
  "whop_api": {
    "base_url": "https://api.whop.com/api/v1",
    "company_id": "biz_s58kr1WWnL1bzH",
    "sync_interval_hours": 6,
    "startup_sync_delay_seconds": 20,
    "enable_verification": true,
    "enable_sync": true,
    "_comment_cards_api": "If false, webhook-driven staff cards will NOT call Whop API (they will rely on whop-logs + whop-membership-logs). Scans/sync still use API.",
    "cards_use_api": true,
    "_comment_events_poll": "API-only Whop movement watcher (polls /memberships order=updated_at and posts staff cards). Disables Discord whop-* channel message reliance when enabled.",
    "events_poll_enabled": true,
    "events_poll_interval_seconds": 30,
    "events_poll_per_page": 50,
    "events_poll_max_pages": 5,
    "events_poll_initial_lookback_minutes": 180,
    "events_poll_max_events_per_tick": 10,
    "events_poll_post_unlinked": true,
    "events_poll_post_unlinked_to_case_channels": false,
    "events_poll_unlinked_note": "Discord not linked. Ask the member to connect Discord in Whop: Dashboard -> Connected accounts -> Discord, then re-run the action (or wait for next sync).",
    "events_poll_log_enabled": true,
    "events_poll_log_output_guild_id": 1451275225512546497,
    "_comment_events_poll_log": "Detection logs are sent to a dedicated channel in Neo for easier tracking (separate from smoketest).",
    "events_poll_log_output_channel_id": 0,
    "events_poll_log_output_channel_name": "whop-movement-logs",
    "_comment_events_poll_log_all": "If true, also log ANY membership update movement even if it doesn't map to a staff-card event type (can be noisy).",
    "events_poll_log_all_movements": true,
    "_comment_sync_summary": "Optional: mirror Whop sync summary into Neo Test Server.",
    "sync_summary_enabled": true,
    "sync_summary_output_guild_id": 1451275225512546497,
    "sync_summary_output_channel_name": "whop-sync-summary",
    "_comment_sync_summary_file": "Attach a downloadable report file to the Neo sync summary message.",
    "sync_summary_attach_report": true,
    "sync_summary_report_format": "csv",
    "_comment_logs_lookup": "Limit for searching Discord whop-logs history when resolving Discord IDs (anti-rate-limit).",
    "logs_lookup_limit": 250,
    "_comment_joined_report": "For `.checker syncsummary <start> <end>`: filters Whop memberships by JOINED date (excludes draft attempts) and optionally restricts to RS product titles.",
    "joined_report_require_date_joined": false,
    "joined_report_statuses": ["active", "trialing", "canceling", "completed", "canceled", "expired"],
    "joined_report_product_title_prefixes": ["Reselling Secrets"],
    "joined_report_max_pages": 50,
    "_comment_sync_behavior": "Controls what the startup/6h Whop sync is allowed to do.",
    "enforce_role_removals": false,
    "post_cancellation_scheduled_cards": false,
    "startup_scan_dm_report": true,
    "_comment_auto_heal": "Auto-heal can re-add Members role when Whop shows active+entitled access (no manual role fixes).",
    "auto_heal_add_members_role": true,
    "auto_heal_min_total_spent_usd": 1.0,
    "enable_enrichment": true,
    "payment_case_category_id": 1458533733681598654,
    "payment_case_access_role_ids": []
    ,
    "_comment_dispute_resolution_cases": "Optional: auto-create per-case ticket channels for dispute/resolution payments.",
    "dispute_case_category_id": 1466815842401386698,
    "resolution_case_category_id": 1466816113525522695,
    "payment_issue_cases_startup_scan_enabled": true,
    "payment_issue_cases_startup_scan_max_pages": 3,
    "payment_issue_cases_startup_scan_per_page": 50,
    "payment_issue_cases_startup_scan_max_cases": 25
  }
}

